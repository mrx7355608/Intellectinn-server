import{b,R as h,h as w,j as e,a as f,T as a,S as y,k as v,o as A,r as c,p as E,B as z}from"./index-N_Esq6xR.js";import{u as T,M as B,a as O,b as F,c as I,d as U,e as _}from"./chunk-4FCEGNGT-DaJvZmNO.js";import{M as H}from"./chunk-5FG5SY5K-DFfNRqu8.js";import{T as D}from"./chunk-4IH3O7BJ-BTTBFUey.js";function g(){const{user:t,setUser:l}=b(),{isOpen:s,onOpen:d,onClose:o}=T(),[n,u]=h.useState((t==null?void 0:t.about)||""),[x,r]=h.useState(""),[S,p]=h.useState(!1),C=w({duration:4e3,isClosable:!0});return e.jsxs(e.Fragment,{children:[e.jsx(f,{mt:"7",rounded:"full",px:"6",borderColor:"gray.800",variant:"outline",size:"sm",onClick:d,children:"Edit"}),e.jsxs(B,{closeOnOverlayClick:!1,isOpen:s,onClose:o,children:[e.jsx(O,{}),e.jsxs(F,{children:[e.jsx(H,{children:"Update about section"}),e.jsx(I,{}),e.jsxs(U,{children:[e.jsx(D,{resize:"none",rows:12,onChange:M,value:n}),e.jsx(a,{color:"red.600",mt:"2",children:x})]}),e.jsxs(_,{children:[e.jsx(f,{px:"4",colorScheme:"teal",mr:3,onClick:k,children:S?e.jsx(y,{size:"sm"}):"Update"}),e.jsx(f,{variant:"ghost",onClick:o,children:"Cancel"})]})]})]})]});function M(i){u(i.target.value)}async function k(){p(!0);try{const{data:i,error:j}=await v({about:n});if(j)return r(j);l(m=>m?{...m,about:i.about}:null),C({status:"success",description:"About section updated successfully"})}catch{r("Internal server error")}finally{p(!1)}}}function W(){const{user:t}=b(),{id:l}=A(),[s,d]=c.useState(null),[o,n]=c.useState(""),[u,x]=c.useState(!0);return c.useEffect(()=>{E.get(`/api/users/${l}`,{withCredentials:!1}).then(r=>r.data).then(r=>{if(r.error)return n(r.error);d(r.data)}).catch(()=>n("Internal server error")).finally(()=>x(!1))},[l]),e.jsx(e.Fragment,{children:u?e.jsx(y,{}):o?e.jsx(a,{whiteSpace:"break-spaces",fontSize:"lg",color:"red.600",children:o}):s?s.about?s._id===(t==null?void 0:t._id)?e.jsxs(e.Fragment,{children:[e.jsx(a,{whiteSpace:"break-spaces",fontSize:"lg",children:s.about}),e.jsx(g,{})]}):e.jsx(a,{whiteSpace:"break-spaces",fontSize:"lg",children:s.about}):s._id!==(t==null?void 0:t._id)?e.jsx(a,{fontStyle:"italic",color:"gray.500",children:"No about content provided"}):e.jsxs(z,{display:"flex",justifyItems:"center",alignItems:"center",flexDirection:"column",rounded:"lg",bg:"gray.100",p:"16",children:[e.jsx(a,{fontWeight:"bold",children:"Tell the world about yourself"}),e.jsx(a,{color:"gray.600",px:"16",textAlign:"center",mt:"2",children:"Here's where you can share more about yourself your history, work, experience, accomplishments, interests, dreams, and more."}),e.jsx(g,{})]}):null})}export{W as default};
