import{b as v,r as u,h as z,j as e,B as o,T as s,I as k,g as j,a as d,S as L,k as R,H as B}from"./index-BXO2U9-f.js";import{u as O}from"./articles-B-sUejwn.js";import{u as F,M as H,a as I,b as D,c as A,d as N,e as E}from"./chunk-4FCEGNGT-CG7Dy87b.js";import{M as _}from"./chunk-5FG5SY5K-B8F0U4Ps.js";import{T as W,a as Y,b as q,c as G}from"./chunk-IAXSQ4X2-Cn_DVlwo.js";import"./chunk-AXLEE3EK-TN3R7wDi.js";import"./index-o6s6JXNz.js";function J(){const{user:c,setUser:g}=v(),{isOpen:y,onOpen:C,onClose:p}=F(),a=u.useRef(null),[h,w]=u.useState(""),[b,f]=u.useState(!1),l=z({duration:4e3,isClosable:!0});return e.jsxs(e.Fragment,{children:[e.jsxs(o,{children:[e.jsx(s,{onClick:C,cursor:"pointer",_hover:{textDecoration:"underline"},as:"span",children:"Update Profile picture"}),e.jsx(s,{fontSize:"sm",color:"gray.500",children:"Select a new profile picture"})]}),e.jsxs(H,{closeOnOverlayClick:!1,isOpen:y,onClose:p,children:[e.jsx(I,{}),e.jsxs(D,{children:[e.jsx(_,{children:"Update profile picture"}),e.jsx(A,{}),e.jsxs(N,{children:[e.jsx(k,{type:"file",display:"none",ref:a,onChange:M}),h?e.jsx(j,{objectFit:"cover",w:"150px",h:"150px",mx:"auto",rounded:"full",src:h}):e.jsx(j,{objectFit:"cover",w:"150px",h:"150px",mx:"auto",rounded:"full",src:c==null?void 0:c.profilePicture})]}),e.jsxs(E,{children:[e.jsx(d,{onClick:S,colorScheme:"pink",mr:3,children:"Select"}),e.jsx(d,{colorScheme:"teal",mr:3,onClick:P,children:b?e.jsx(L,{}):"Update"}),e.jsx(d,{variant:"ghost",onClick:p,children:"Cancel"})]})]})]})]});function S(){var r;(r=a.current)==null||r.click()}function U(r){if(!r)return"No image selected";const t=r.name.split("."),n=t[t.length-1].toLowerCase();return n!=="jpg"&&n!=="png"&&n!=="jpeg"?"Only jpg, png and jpeg image formats are allowed":r.size>2e6?"Thumbnail size should be less than 2 MB":null}function M(){var i;const r=(i=a.current)==null?void 0:i.files[0],t=U(r);if(t)return l({status:"error",description:t});const n=URL.createObjectURL(r);w(n)}async function P(){var r;f(!0);try{const t=(r=a.current)==null?void 0:r.files[0],i=(await O(t)).data.secure_url,{data:T,error:x}=await R({profilePicture:i});if(x)return l({status:"error",description:x});g(m=>m?{...m,profilePicture:T.profilePicture}:null),l({status:"success",description:"Profile picture updated successfully"})}catch{l({status:"error",description:"There was an error while updating your profile picture"})}finally{f(!1)}}}function re(){return e.jsxs(o,{w:"68vw",pt:"14",mt:"16",mx:"auto",children:[e.jsx(B,{children:"Settings"}),e.jsxs(W,{size:"sm",mt:"7",children:[e.jsx(Y,{overflowY:"hidden",height:"full",children:e.jsx(q,{py:"2",whiteSpace:"nowrap",m:"0",children:"Account"})}),e.jsxs(G,{py:"8",children:[e.jsx(J,{}),e.jsxs(o,{mt:"5",children:[e.jsx(s,{children:"Update Bio"}),e.jsx(s,{fontSize:"sm",color:"gray.500",children:"Write about yourself and your expertise to attract audience"})]}),e.jsxs(o,{mt:"5",children:[e.jsx(s,{children:"Change Name"}),e.jsx(s,{fontSize:"sm",color:"gray.500",children:"Use your original name and avoid celebrities and fictional characters names"})]}),e.jsxs(o,{mt:"5",children:[e.jsx(s,{children:"Change Password"}),e.jsx(s,{fontSize:"sm",color:"gray.500",children:"Choose a new password to login to your account"})]}),e.jsxs(o,{mt:"5",children:[e.jsx(s,{color:"red.600",children:"Delete Account"}),e.jsx(s,{fontSize:"sm",color:"gray.500",children:"Delete your account and all of your content"})]})]})]})]})}export{re as default};
