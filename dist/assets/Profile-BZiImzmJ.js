import{j as e,L as f,a1 as p,u as m,a2 as j,r,d as b,B as n,S as x,T as o,H as k,$ as w,f as g,a3 as $}from"./index-CsVsQMYP.js";import{a as T,b as F,T as I,c as L}from"./chunk-IAXSQ4X2-HPL_bb-G.js";import{N as S}from"./NestedLayoutsSpinner-G76rA87c.js";import{E as y,F as E}from"./FallbackUI-D-cl_7a3.js";function B({tabs:s}){return e.jsx(T,{overflowY:"hidden",height:"full",children:s.map(t=>e.jsx(F,{py:"2",whiteSpace:"nowrap",m:"0",children:e.jsx(f,{to:t.link,children:t.title},t.title)}))})}function z(){const{id:s}=p(),{user:t}=m(),{pathname:c}=j(),[u,l]=r.useState(0),{loading:d,err:i,data:a}=b(`/api/users/${s}`),h=[{title:"Publications",link:`/profile/${s}/publications`},{title:"Bookmarks",link:`/profile/${s}/bookmarks`},{title:"Followers",link:`/profile/${s}/followers`},{title:"Following",link:`/profile/${s}/following`},{title:"About",link:`/profile/${s}/about`}];return r.useEffect(()=>{(()=>{switch(c){case`/profile/${s}`:l(0);break;case`/profile/${s}/bookmarks`:l(1);break;case`/profile/${s}/followers`:l(2);break;case`/profile/${s}/following`:l(3);break;case`/profile/${s}/about`:l(4);break}})()},[s,c]),e.jsxs(n,{minH:"100vh",display:"flex",alignItems:"start",p:"0",children:[e.jsxs(n,{w:"68vw",p:"12",mt:"16",children:[d&&e.jsx(x,{}),i&&e.jsx(o,{color:"red.600",children:i}),a&&e.jsxs(e.Fragment,{children:[e.jsx(k,{children:a.fullname}),e.jsxs(I,{size:"sm",mt:"8",defaultIndex:u,children:[e.jsx(B,{tabs:h}),e.jsx(y,{fallback:e.jsx(E,{}),children:e.jsx(L,{py:"10",children:e.jsx(r.Suspense,{fallback:e.jsx(S,{}),children:e.jsx(w,{})})})})]})]})]}),e.jsxs(n,{mt:"16",px:"12",pt:"16",children:[d&&e.jsx(x,{}),i&&e.jsx(o,{color:"red.600",children:i}),a&&e.jsxs(e.Fragment,{children:[e.jsx(g,{src:a==null?void 0:a.profilePicture,w:"90px",h:"90px",objectFit:"cover",rounded:"full"}),e.jsx(o,{fontWeight:"bold",mt:"5",mb:"8",children:a==null?void 0:a.fullname}),a&&(t==null?void 0:t._id)!==(a==null?void 0:a._id)?e.jsx($,{authorID:a._id}):e.jsx(f,{to:"/settings",children:e.jsx(o,{color:"teal.500",fontSize:"sm",textDecoration:"underline",children:"Edit profile"})})]})]})]})}export{z as default};
