import{b as P,r as u,h as T,j as e,B as n,T as r,I as k,g as m,a as d,S as L,k as R,H as B}from"./index-gfkfeWlX.js";import{u as F}from"./articles-DMhp3gmU.js";import{u as I,M as O,a as H,b as D,c as A,d as N,e as E}from"./chunk-4FCEGNGT-wr8DL4Eo.js";import{M as _}from"./chunk-5FG5SY5K-C0ycQ2be.js";import{T as W,a as Y,b as q,c as G}from"./chunk-IAXSQ4X2-D3OQXIgH.js";import"./chunk-AXLEE3EK-DMovQRT3.js";import"./index-xScHUS36.js";function J(){const{user:c,setUser:j}=P(),{isOpen:g,onOpen:y,onClose:p}=I(),a=u.useRef(null),[h,C]=u.useState(""),[b,x]=u.useState(!1),l=T({duration:4e3,isClosable:!0});return e.jsxs(e.Fragment,{children:[e.jsxs(n,{children:[e.jsx(r,{onClick:y,cursor:"pointer",_hover:{textDecoration:"underline"},as:"span",children:"Update Profile picture"}),e.jsx(r,{fontSize:"sm",color:"gray.500",children:"Select a new profile picture"})]}),e.jsxs(O,{closeOnOverlayClick:!1,isOpen:g,onClose:p,children:[e.jsx(H,{}),e.jsxs(D,{children:[e.jsx(_,{children:"Update profile picture"}),e.jsx(A,{}),e.jsxs(N,{children:[e.jsx(k,{type:"file",display:"none",ref:a,onChange:U}),h?e.jsx(m,{objectFit:"cover",w:"150px",h:"150px",mx:"auto",rounded:"full",src:h}):e.jsx(m,{objectFit:"cover",w:"150px",h:"150px",mx:"auto",rounded:"full",src:c==null?void 0:c.profilePicture})]}),e.jsxs(E,{children:[e.jsx(d,{onClick:w,colorScheme:"pink",mr:3,children:"Select"}),e.jsx(d,{colorScheme:"teal",mr:3,onClick:v,children:b?e.jsx(L,{}):"Update"}),e.jsx(d,{variant:"ghost",onClick:p,children:"Cancel"})]})]})]})]});function w(){var s;(s=a.current)==null||s.click()}function S(s){if(!s)return"No image selected";console.log("size: ",s.size);const t=s.name.split("."),o=t[t.length-1].toLowerCase();return o!=="jpg"&&o!=="png"&&o!=="jpeg"?"Invalid thumbnail":s.size>2e6?"Thumbnail size should be less than 5 MB":null}function U(){var i;const s=(i=a.current)==null?void 0:i.files[0],t=S(s);if(t)return l({status:"error",description:t});const o=URL.createObjectURL(s);C(o)}async function v(){var s;x(!0);try{const t=(s=a.current)==null?void 0:s.files[0],i=(await F(t)).data.secure_url,{data:z,error:f}=await R({profilePicture:i});if(f)return l({status:"error",description:f});j(M=>({...M,profilePicture:z.profilePicture})),l({status:"success",description:"Profile picture updated successfully"})}catch{l({status:"error",description:"There was an error while updating your profile picture"})}finally{x(!1)}}}function se(){return e.jsxs(n,{w:"68vw",pt:"14",mt:"16",mx:"auto",children:[e.jsx(B,{children:"Settings"}),e.jsxs(W,{size:"sm",mt:"7",children:[e.jsx(Y,{overflowY:"hidden",height:"full",children:e.jsx(q,{py:"2",whiteSpace:"nowrap",m:"0",children:"Account"})}),e.jsxs(G,{py:"8",children:[e.jsx(J,{}),e.jsxs(n,{mt:"5",children:[e.jsx(r,{children:"Update Bio"}),e.jsx(r,{fontSize:"sm",color:"gray.500",children:"Write about yourself and your expertise to attract audience"})]}),e.jsxs(n,{mt:"5",children:[e.jsx(r,{children:"Change Name"}),e.jsx(r,{fontSize:"sm",color:"gray.500",children:"Use your original name and avoid celebrities and fictional characters names"})]}),e.jsxs(n,{mt:"5",children:[e.jsx(r,{children:"Change Password"}),e.jsx(r,{fontSize:"sm",color:"gray.500",children:"Choose a new password to login to your account"})]}),e.jsxs(n,{mt:"5",children:[e.jsx(r,{color:"red.600",children:"Delete Account"}),e.jsx(r,{fontSize:"sm",color:"gray.500",children:"Delete your account and all of your content"})]})]})]})]})}export{se as default};
