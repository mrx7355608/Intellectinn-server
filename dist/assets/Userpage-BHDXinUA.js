import{G as k,b as m,r as l,h as v,j as e,a as n,H as w,B as i,S as M,k as H,L as h,O}from"./index-gfkfeWlX.js";import{N as B}from"./NestedLayoutsSpinner-DK1Auhsn.js";import{u as L,M as P,a as T,b as z,c as E,d as F,e as U}from"./chunk-4FCEGNGT-wr8DL4Eo.js";import{T as V,a as A,b as p,c as D}from"./chunk-IAXSQ4X2-D3OQXIgH.js";import"./chunk-AXLEE3EK-DMovQRT3.js";import"./index-xScHUS36.js";function G(t){return k({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M256 80c0-17.7-14.3-32-32-32s-32 14.3-32 32V224H48c-17.7 0-32 14.3-32 32s14.3 32 32 32H192V432c0 17.7 14.3 32 32 32s32-14.3 32-32V288H400c17.7 0 32-14.3 32-32s-14.3-32-32-32H256V80z"},child:[]}]})(t)}function N(){const{user:t,setUser:o}=m(),{isOpen:f,onOpen:j,onClose:c}=L(),[b,R]=l.useState(["Web development","Software Engineering","Software development","Politics","Economy","Psychology","Computer Science","Apex legends","Counter Strike 2","Literatue","Reading","Poetry"]),[r,d]=l.useState((t==null?void 0:t.topicsInterestedIn)||[]),[g,x]=l.useState(!1),u=v({isClosable:!0,duration:4e3});return e.jsxs(e.Fragment,{children:[e.jsx(n,{size:"sm",bg:"transparent",w:"ful",onClick:j,children:e.jsx(G,{})}),e.jsxs(P,{isOpen:f,onClose:c,isCentered:!0,motionPreset:"slideInBottom",size:"xl",closeOnOverlayClick:!1,closeOnEsc:!1,children:[e.jsx(T,{}),e.jsxs(z,{children:[e.jsx(E,{}),e.jsxs(F,{children:[e.jsx(w,{textAlign:"center",mt:"8",fontSize:"2xl",children:"Select your interests"}),e.jsx(i,{display:"flex",gap:"2",flexWrap:"wrap",my:"12",children:b.map(s=>r!=null&&r.includes(s)?e.jsx(n,{variant:"outline",rounded:"full",color:"white",borderColor:"black",bg:"black",onClick:()=>I(s),_hover:{bg:"black",color:"white"},children:s},s):e.jsx(n,{variant:"outline",rounded:"full",color:"black",borderColor:"black",onClick:()=>y(s),children:s},s))})]}),e.jsxs(U,{children:[g?e.jsx(n,{colorScheme:"teal",mr:3,children:e.jsx(M,{})}):e.jsx(n,{colorScheme:"teal",mr:3,onClick:C,children:"Update"}),e.jsx(n,{onClick:c,children:"Cancel"})]})]})]})]});function y(s){d([...r,s])}function I(s){d(r.filter(a=>a!==s))}async function C(){try{x(!0);const{data:s,error:a}=await H({topicsInterestedIn:r});if(a)return u({description:a,status:"error"});d(s.topicsInterestedIn),o(S=>({...S,topicsInterestedIn:s.topicsInterestedIn})),u({description:"Interests updated successfully",status:"success"}),c()}catch{u({description:"Internal server error",status:"error"})}finally{x(!1)}}}function K(){const{user:t}=m();return e.jsxs(i,{minH:"100vh",display:"flex",alignItems:"start",p:"0",children:[e.jsx(i,{w:"68vw",p:"12",children:e.jsxs(V,{size:"sm",mt:"12",children:[e.jsxs(A,{overflowY:"hidden",height:"full",children:[e.jsx(h,{to:"/user",children:e.jsx(p,{py:"2",whiteSpace:"nowrap",m:"0",children:"For you"})}),t==null?void 0:t.topicsInterestedIn.map(o=>e.jsx(h,{to:`/user?tag=${o}`,children:e.jsx(p,{py:"2",whiteSpace:"nowrap",m:"0",children:o})})),e.jsx(p,{children:e.jsx(N,{})})]}),e.jsx(D,{py:"10",children:e.jsx(l.Suspense,{fallback:e.jsx(B,{}),children:e.jsx(O,{})})})]})}),e.jsx(i,{display:"flex",flexDirection:"column",p:"10",borderLeft:"1px",borderColor:"gray.200",minH:"100vh"})]})}export{K as default};
